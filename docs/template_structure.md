**基于深度学习的草莓病虫害检测系统软件**

(Vesion 1.0)

> **使用手册**

[]{#_Toc8353 .anchor}前 言

感谢您使用本团队出品的软件------《基于深度学习的草莓病虫害检测系统
V1.0.0》。《基于深度学习的草莓病虫害检测系统
V1.0.0》是本团队软件的最新一代产品。功能较以前更强大，系统更稳定，操作界面新颖大方，更易于操作。

为了用户对本软件系统能够快速全面的掌握从而达到熟练操作,特编写了该用户手册。本手册详细介绍了《基于深度学习的草莓病虫害检测系统
V1.0.0》的使用方法。本手册包含四个部分:技术构成;运行环境与开发环境;软件安装;软件使用。

前两部分内容详述了常用功能键及操作方法和系统功能，并对功能的操作使用做了详细讲解，从而明了的归纳了许多操作过程中遇到的常用问题以及注意事项，帮助用户快速上手。

相信通过本手册的学习，您能够全面掌握《基于深度学习的草莓病虫害检测系统
V1.0.0》的全部功能以及操作方法。

若对我们的产品有什么意见和建议，请与我们联系（18203913583），谨谢!

用户的大力支持是我们前进的动力！再一次感谢您的使用!

注:由于软件升级更新造成和本说明书不完全符合之处，请参看软件帮助说明

# 目录 {#目录 .TOC-Heading}

[前 言](#_Toc8353)

[文 件 修 订 记 录](#文-件-修-订-记-录)

[1. 总体技术构成](#总体技术构成)

[2. 运行环境](#运行环境)

[3. 软件开发环境](#软件开发环境)

[4. 软件安装说明](#软件安装说明)

[5. 软件使用](#软件使用)

[5.1. 运行准备](#运行准备)

[5.2. 软件功能介绍](#软件功能介绍)

# 文 件 修 订 记 录

  ------------ -------------- ---------- -----------------------------------------
   **版本号**   **生成日期**   **作者**                **修订内容**

     V1.0.0      2024-10-1      史龙堃                   初始版本

                                         

                                         

                                         

                                         

                                         

                                         

                                         

                                         

                                         

                                         

                                         

                                         
  ------------ -------------- ---------- -----------------------------------------

# 

# 总体技术构成

系统采用双层结构：

①基于YOLOv5视觉检测模型：

数据集经由dataloader函数传入GPU后，基于注意力机制的Fine-tune，细粒度图像分类模型，将接入核心算法模型。首先拟通过软注意力机制将CNN的最后一个卷积层的输出作为注意力模型的输入，并计算出对应的注意力谱，然后将加权后的特征谱与原特征谱进行叠加，再将融合后的注意力特征谱传入全连接层，并送入分类层预测该图像的所属类别。籍由自监督多网络协作机制，对CNN特征谱在空间中的显著区域进行提取与改善。由于经过全连接层之后，所提取的注意力特征的空间信息被破坏，因此，在最后的全连接层连接注意力特征谱，从而实现注意力空间特征进行再利用。

模型流程图如下：

![信号学习处理模块](media/image1.jpeg){width="4.291666666666667in"
height="1.1770833333333333in"}

检测模型技术架构图

自监督多网络协作机制：

本机制主要由三个网络协同组成：定位、反馈、分类网络，三者共享参数。

(1)定位网络中，由特征金字塔设计的启发（LIN et al.,
2017），使用具有横向连接的自上向下的结构可来检测多尺度区域。逐层使用卷积层计算特征，然后拟用ReLU激活和最大池化层，得到一系列不同空间分辨率的特征图。使用来自不同层的多尺度特征图，可以生成不同比例的信息区域。将定位网络中的参数表示为Wx。

(2)反馈网络，近似于映射C:
A→\[0,1\]，其表示每个区域的置信度。在接收到来自定位网络的信息区域后，反馈网络输出置信度作为反馈结果，以帮助定位网络学习。反馈网络中有共享层和全连接层，将反馈网络中的参数表示为W~1~。对于输入图像，特征提取器提取其特征图，然后将特征图输入定位网络以计算所有区域的信息量。选择前确定若干个经过非极大值抑制（Non-Maximum
Suppression，NMS）的区域（例如：3个），并计算出信息量。然后从完整图像中裁剪区域，将它们调整为预定义的大小并将它们输入反馈网络，然后得到置信度表，实现优化定位网络的效果。

(3)分类网络，从定位网络接收信息区域后，将区域调整为预定义大小并将其输入到特征提取器中，以生成区域的特征向量。然后将特征与输入图像的特征连接起来，并将其输入到一个具有大量神经元的全连接层中。使用函数来表示这些转换的组成，将分类网络中的参数表示为Ws.分类网络作为全连接的最后一层，将输出分类结果。

②软件设计模块：

用户端模块采用Qt
Designer作为可视化的GUI设计工具，从而实现设计与业务逻辑的有效分离。界面经过美化设计，能够通过网络获取图像来源，同时能够自主制作和处理部分图像。借助Photoshop（PS）、Illustrator（AI）等图片设计软件，设计团队以简洁、明晰且人性化的设计理念，制作了背景、图标（ICON）和LOGO。项目搭建完成后，考虑项目以python作为脚本语言，使用auto-py-to-exe工具进行打包，操作简单且可进行相关配置。

![图形用户界面, 应用程序, 日历
描述已自动生成](media/image2.png){width="3.75in" height="2.34375in"}

图7 系统UI设计分区

本系统界面设计简洁明了，避免了复杂的操作流程，
确保所有用户都能方便地使用系统，包括不同年龄和背景的用户。通过合理的界面设计和用户交互流程，系统将能够有效提升用户体验，帮助用户更好地进行病虫害识别与管理，最终实现提高农业生产效率的目标。

# 运行环境 

> **硬件要求**

  -------------- -----------------------------------------------------
       类别                            基本要求

       CPU                    至少双核以上处理器，无需GPU

       内存                          4GB或8GB RAM

       存储                        至少1GB可用的SSD
  -------------- -----------------------------------------------------

**软件要求：**

  -------------- -----------------------------------------------------
       类别                            基本环境

     操作系统                        支持Windows11

       框架                        系统自带环境框架
  -------------- -----------------------------------------------------

# 软件开发环境

本软件使用Pytharm2021.2进行开发，如有需要请使用相同软件进行开发编译。

![屏幕截图 2024-10-19
015503](media/image3.png){width="5.760416666666667in" height="3.4375in"}

Requirement：

matplotlib\>=3.2.2

numpy\>=1.18.5

opencv-python==4.1.2.30

Pillow\>=7.1.2

PyYAML==5.3.1

torch\>=1.7.0

torchvision\>=0.8.1

requests\>=2.23.0

scipy\>=1.4.1

tqdm\>=4.41.0

pyqt5\>=5.15.6

pandas\>=1.1.4

seaborn\>=0.11.0

thop==0.1.1.post2209072238

编译成功画面

![屏幕截图 2024-10-19
021345](media/image4.png){width="5.760416666666667in" height="3.4375in"}

# 软件安装说明

(1)使用网盘下载

链接：https://pan.baidu.com/s/1cvH6fjrDr5itIOoIpdjeJA?pwd=673o

提取码：673o

![屏幕截图 2024-08-21
231231](media/image5.png){width="5.229166666666667in"
height="2.5104166666666665in"}

(2)解压至目标磁盘，建议选择自创建的磁盘路径

![屏幕截图 2024-08-22
094211](media/image6.png){width="4.958333333333333in"
height="1.71875in"}

(3)创建快捷方式

右键Strawberry Disase Detection
System.exe文件，选择显示更多选项，点击发送到桌面快捷方式。

![屏幕截图 2024-08-22
094918](media/image7.png){width="3.8020833333333335in"
height="2.9583333333333335in"}

# 软件使用

## 运行准备

(1)登录与注册

点击快捷方式，进入登录界面。系统支持用户自行注册，也可使用系统自带管理员账号，如下：

账号：admin

密码：q14t72

账号名称请勿使用中文，密码限制为1-9的阿拉伯数字或26个英文字母

![屏幕截图 2024-08-22
103837](media/image8.png){width="2.5104166666666665in"
height="2.0729166666666665in"}

(2)模型配置与加载

![2cb2af146bb4e5be38c1c3be843c1f2](media/image9.png){width="5.166666666666667in"
height="3.8333333333333335in"}

## 软件功能介绍

本系统配备五大功能交互：

选取权重文件：用于读取权重文件，可供选择不同的训练模型（.pt格式）

加载模型：用于加载深度学习模型，读取权重文件后使用

选取图片：从磁盘中读取目标图片，进行识别

选取视频：从磁盘中读取目标图片，进行识别

打开摄像头：打开设备视像头，实时进行识别

现在将对其进行逐一介绍

①权重文件选择

软件使用前需要先进行模型配置，选取你想使用的权重文件，再加载模型。可选择软件自带的预训练权重文件，也可以选择自己训练的权重。选择的权重文件将作为软件推断函数的处理模型，分类网络将从中取得输出进行识别工作。

![3b5936cc8b4ebbe6a2c28a3c0d041b7](media/image10.jpeg){width="5.0625in"
height="3.1875in"}

软件自带预训练模型位置

②加载模型

加载刚选择的权重文件，将模型导入算法分类网络。

![](media/image11.png){width="4.385416666666667in"
height="3.1041666666666665in"}

加载完成提醒

③选取图片、视频

软件检测文件支持以视频及图片形式上传。模型配置完成后可进行目标的识别。以图片的识别为例，要求选取图片的存储路径和图片名无中文，识别结果将在反馈区呈现，如下图所示。

![屏幕截图 2024-08-22
123132](media/image12.png){width="4.864583333333333in"
height="2.9270833333333335in"}

识别结果图

主视面将对已识别为病害部位进行标注，并在识别类型后附上识别置信度。

④摄像头识别

软件同样支持以摄像头作为输入来源。在使用此功能前，请打开摄像头的使用权限（Windows------\>设置------\>蓝牙及其他设备------\>摄像头
进行调整）。使用后将连接上本机摄像头，并将摄像头作为输入设备，对传输视频进行实时分析。

![屏幕截图 2024-10-19
175053](media/image13.png){width="4.697916666666667in"
height="3.1354166666666665in"}
